

DA_mechanics_upgrade_applier_4 = {

	remove_province_modifier = DA_mechanics_upgrade.$upgrade_1$
	remove_province_modifier = DA_mechanics_upgrade.$upgrade_2$
	remove_province_modifier = DA_mechanics_upgrade.$upgrade_3$
	remove_province_modifier = DA_mechanics_upgrade.$upgrade_4$

	if = {
		limit = {
			owner = {
				has_country_flag = DA_mechanics_upgrade.$upgrade_4$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_4$
			duration = -1
		}
	}
	else_if = {
		limit = {
			owner = {
				NOT = { has_country_flag = DA_mechanics_upgrade.$upgrade_4$.flag }
				has_country_flag = DA_mechanics_upgrade.$upgrade_3$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_3$
			duration = -1
		}
	}
	else_if = {
		limit = {
			owner = {
				NOT = { has_country_flag = DA_mechanics_upgrade.$upgrade_3$.flag }
				has_country_flag = DA_mechanics_upgrade.$upgrade_2$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_2$
			duration = -1
		}
	}
	else_if = {
		limit = {
			owner = {
				NOT = { has_country_flag = DA_mechanics_upgrade.$upgrade_2$.flag }
				has_country_flag = DA_mechanics_upgrade.$upgrade_1$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_1$
			duration = -1
		}
	}
}


DA_mechanics_upgrade_applier_3 = {

	remove_province_modifier = DA_mechanics_upgrade.$upgrade_1$
	remove_province_modifier = DA_mechanics_upgrade.$upgrade_2$
	remove_province_modifier = DA_mechanics_upgrade.$upgrade_3$
	
	if = {
		limit = {
			owner = {
				has_country_flag = DA_mechanics_upgrade.$upgrade_3$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_3$
			duration = -1
		}
	}
	else_if = {
		limit = {
			owner = {
				NOT = { has_country_flag = DA_mechanics_upgrade.$upgrade_3$.flag }
				has_country_flag = DA_mechanics_upgrade.$upgrade_2$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_2$
			duration = -1
		}
	}
	else_if = {
		limit = {
			owner = {
				NOT = { has_country_flag = DA_mechanics_upgrade.$upgrade_2$.flag }
				has_country_flag = DA_mechanics_upgrade.$upgrade_1$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_1$
			duration = -1
		}
	}
}

DA_mechanics_upgrade_applier_2 = {

	remove_province_modifier = DA_mechanics_upgrade.$upgrade_1$
	remove_province_modifier = DA_mechanics_upgrade.$upgrade_2$
	
	if = {
		limit = {
			owner = {
				has_country_flag = DA_mechanics_upgrade.$upgrade_2$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_2$
			duration = -1
		}
	}
	else_if = {
		limit = {
			owner = {
				NOT = { has_country_flag = DA_mechanics_upgrade.$upgrade_2$.flag }
				has_country_flag = DA_mechanics_upgrade.$upgrade_1$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_1$
			duration = -1
		}
	}
}

DA_mechanics_upgrade_applier_1 = {

	remove_province_modifier = DA_mechanics_upgrade.$upgrade_1$
	
	if = {
		limit = {
			owner = {
				has_country_flag = DA_mechanics_upgrade.$upgrade_1$.flag
			}
		}
		add_permanent_province_modifier = {
			name = DA_mechanics_upgrade.$upgrade_1$
			duration = -1
		}
	}
}
