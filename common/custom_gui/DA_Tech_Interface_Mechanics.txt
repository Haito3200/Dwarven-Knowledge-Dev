# ANBENNAR: this folder is arranged into the different interface files the GUI elements belong in. For mission/tag-specific GUI, please use zz_mission_content.txt



# The custom guiButtonType/instantTextBoxType/iconType must have a 'scripted = yes' line to work
#custom_button = {
#    name = custom_button_testing #Must match a scripted guiButtonType in a .gui file
#    potential = { } #Determines when the button is visible
#    trigger = { } #Determines when the button is clickable
#    effect = { } #Effect
#    tooltip = localisation_key #Can use customizable localisation
#    frame = {  #Can define multiple frame clauses
#        number = <int> #Which frame to use. Check dds files with multiple icons like icon_religion.dds
#        trigger = { } #First matched frame clause will be used.
#    }
#}

#custom_text_box = {
#    name = custom_text_testing #Must match a scripted instantTextBoxType in a .gui file
#    potential = { } #Determines when the text is visible
#    tooltip = localisation_key #Can use customizable localisation
#    #To localize it, use the name of the button as a key, can also use customizable localisation
#}

#custom_icon = {
#    name = custom_icon_testing #Must match a scripted iconType in a .gui file
#    potential = { } #Determines when the icon is visible
#    tooltip = localisation_key #Can use customizable localisation
#    frame = {  #Can define multiple frame clauses
#        number = <int> #Which frame to use. Check dds files with multiple icons like icon_religion.dds
#        trigger = { } #First matched frame clause will be used.
#    }
#}

#custom_shield = {
#    name = custom_button_testing #Must match a scripted guiButtonType in a .gui file
#    potential = { } #Determines when the shield is visible
#    trigger = { } #Determines when the shield is clickable
#    effect = { } #Effect for clicking
#    tooltip = localisation_key #Can use customizable localisation
#    global_event_target = <string> # Global event target name
#    open_country = <bool> #If clicking opens the country view
#}

##############################  Supported files with scopes ##############################
#   The Gui objects must be directly inside the specified window Gui element!
#   FROM is always the country that clicks
#   provinceview.gui:
#       province_window         (ROOT: Clicked province)
#       buildings_window        (ROOT: Clicked province)
#       state_window            (ROOT: Clicked province)
#   countrycourtview.gui:
#       countrycourtview        (ROOT = FROM)
#   countrygovernmentview.gui:
#       countrygovernmentview   (ROOT = FROM)
#   countrydiplomacyview.gui:
#       countrydiplimacyview    (ROOT: Selected country)
#   countryeconomyview.gui:
#       countryeconomyview      (ROOT = FROM)
#   countrytradeview.gui:
#       countrytradeview        (ROOT = FROM)
#   countrytechnologyview.gui:
#       countrytechnologyview   (ROOT = FROM)
#   countryideasview.gui:
#       countryideasview        (ROOT = FROM)
#   countrymissionsview.gui:
#       countrymissionsview     (ROOT: Selected country)
#   countrydecisionview.gui:
#       countrydecisionsview    (ROOT = FROM)
#   countrystabilityview.gui:
#       countrystabilityview    (ROOT = FROM)
#   countryreligionview.gui:
#       countryreligionview     (ROOT = FROM)
#   countrymilitaryview.gui:
#       countrymilitaryview     (ROOT = FROM)
#   countrysubjectsview.gui:
#       countrysubjectview      (ROOT = FROM)
#   countryestatesview.gui:
#       countryestatesview      (ROOT = FROM)
#   ages_view.gui:
#       ages_view               (ROOT = FROM)
#   tradeinterface.gui:
#       TradeNodeInterface      (ROOT: Trade capital of a trade node)
#   hre.gui:
#       hre_window              (ROOT = FROM)
#   papacy.gui:
#       papacy_window           (ROOT = FROM)
#   faction.gui:
#       All faction windows     (ROOT = FROM)
#   celestialempireview.gui:
#       celestial_window        (ROOT = FROM)
#   countrynativesview.gui:
#       natives_window          (ROOT = FROM)
#   religiousreforms.gui:
#       reforms_window          (ROOT = FROM)
#   parliament.gui:
#       parliament_window       (ROOT = FROM)



custom_window = {
    name = DA_Mechanics_Interface
    potential = {
        has_country_flag = DA_Metallurgy_interface_on_Mechanics
    }
}
custom_icon = {
    name = DA_Mechanics_Interface_icon
    potential = {
        always = yes
    }
}

custom_button = {
	name = DA_Increase_mechanics
	tooltip = DA_Increase_mechanics_tt
	potential = {
		always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_Increase_mechanics_trigger_tt
            OR = {
                AND = {
                    NOT = { DA_completed.Mechanics_1 = yes }
                    check_variable = {
                        which = DA_mechanics_exp
                        value = 1000
                    }
                }
                AND = {
                    DA_completed.Mechanics_1 = yes
                    NOT = { DA_completed.Mechanics_2 = yes }
                    check_variable = {
                        which = DA_mechanics_exp
                        value = 2500
                    }
                }
                AND = {
                    DA_completed.Mechanics_2 = yes
                    NOT = { DA_completed.Mechanics_3 = yes }
                    check_variable = {
                        which = DA_mechanics_exp
                        value = 5000
                    }
                }
                AND = {
                    DA_completed.Mechanics_3 = yes
                    NOT = { DA_completed.Mechanics_4 = yes }
                    check_variable = {
                        which = DA_mechanics_exp
                        value = 10000
                    }
                }
            }
        }
        DA_has_NO_Project_active = yes
	}
	effect = {
        add_country_modifier = {
            name = DA_Tech_Researching_Mechanics
            duration = -1
        }
        hidden_effect = {
            if = {
                limit = {
                    NOT = { DA_completed.Mechanics_1 = yes }
                }
                subtract_variable = {
                    which = DA_mechanics_exp
                    value = 1000
                }
                country_event = {
                    id = DA_Tech_Tree_event.400
                    days = 365
                }
            }
            else_if = {
                limit = {
                    DA_completed.Mechanics_1 = yes
                    NOT = { DA_completed.Mechanics_2 = yes }
                }
                subtract_variable = {
                    which = DA_mechanics_exp
                    value = 2500
                }
                country_event = {
                    id = DA_Tech_Tree_event.401
                    days = 365
                }
            }
            else_if = {
                limit = {
                    DA_completed.Mechanics_2 = yes
                    NOT = { DA_completed.Mechanics_3 = yes }
                }
                subtract_variable = {
                    which = DA_mechanics_exp
                    value = 5000
                }
                country_event = {
                    id = DA_Tech_Tree_event.403
                    days = 240
                }
            }
            else_if = {
                limit = {
                    DA_completed.Mechanics_3 = yes
                    NOT = { DA_completed.Mechanics_4 = yes }
                }
                subtract_variable = {
                    which = DA_mechanics_exp
                    value = 10000
                }
                country_event = {
                    id = DA_Tech_Tree_event.406
                    days = 240
                }
            }
        }
	}
}

custom_text_box = {
    name = DA_Tech_Shower.Mechanics #Must match a scripted instantTextBoxType in a .gui file
    potential = { always = yes } #Determines when the text is visible
    tooltip = DA_Tech_Shower.Mechanics.tt #Can use customizable localisation
    #To localize it, use the name of the button as a key, can also use customizable localisation
}


custom_text_box = {
    name = DA_Mechanics_Shower_t1_points #Must match a scripted instantTextBoxType in a .gui file
    potential = { always = yes } #Determines when the text is visible
    tooltip = DA_Mechanics_Shower_t1_points #Can use customizable localisation
    #To localize it, use the name of the button as a key, can also use customizable localisation
}

custom_button = {
	name = DA_mechanics_buy_T1_point
	tooltip = DA_mechanics_buy_T1_point_tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        if = {
            limit = {
                has_idea = DA_Mechanics_ideas6
            }
            innovativeness = 4
        }
        else = {
            innovativeness = 5
        }
	}
	effect = {
        if = {
            limit = {
                has_idea = DA_Mechanics_ideas6
            }
            change_innovativeness = -4
        }
        else = {
            change_innovativeness = -5
        }
        DA_gain_mechanics_inno_points_1 = yes
	}
}




custom_button = {
	name = DA_mechanics_trade_and_production_switch_button
	tooltip = DA_mechanics_trade_and_production_switch_button_tt
	potential = {
        always = yes
	}
	trigger = {
        always = yes
	}
	effect = {
        clr_country_flag = DA_mechanics_tax_and_religion_on
        clr_country_flag = DA_mechanics_education_and_government_on
        clr_country_flag = DA_mechanics_infrastructure_on
        clr_country_flag = DA_mechanics_army_on
        clr_country_flag = DA_mechanics_navy_on

        set_country_flag = DA_mechanics_trade_and_production_on
	}
}
custom_button = {
	name = DA_mechanics_tax_and_religion_switch_button
	tooltip = DA_mechanics_tax_and_religion_switch_button_tt
	potential = {
        always = yes
	}
	trigger = {
        always = yes
	}
	effect = {
        clr_country_flag = DA_mechanics_trade_and_production_on
        clr_country_flag = DA_mechanics_education_and_government_on
        clr_country_flag = DA_mechanics_infrastructure_on
        clr_country_flag = DA_mechanics_army_on
        clr_country_flag = DA_mechanics_navy_on

        set_country_flag = DA_mechanics_tax_and_religion_on
	}
}
custom_button = {
	name = DA_mechanics_education_and_government_switch_button
	tooltip = DA_mechanics_education_and_government_switch_button_tt
	potential = {
        always = yes
	}
	trigger = {
        always = yes
	}
	effect = {
        clr_country_flag = DA_mechanics_trade_and_production_on
        clr_country_flag = DA_mechanics_tax_and_religion_on
        clr_country_flag = DA_mechanics_infrastructure_on
        clr_country_flag = DA_mechanics_army_on
        clr_country_flag = DA_mechanics_navy_on

        set_country_flag = DA_mechanics_education_and_government_on
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_switch_button
	tooltip = DA_mechanics_infrastructure_switch_button_tt
	potential = {
        always = yes
	}
	trigger = {
        always = yes
	}
	effect = {
        clr_country_flag = DA_mechanics_trade_and_production_on
        clr_country_flag = DA_mechanics_tax_and_religion_on
        clr_country_flag = DA_mechanics_education_and_government_on
        clr_country_flag = DA_mechanics_army_on
        clr_country_flag = DA_mechanics_navy_on

        set_country_flag = DA_mechanics_infrastructure_on
	}
}
custom_button = {
	name = DA_mechanics_army_switch_button
	tooltip = DA_mechanics_army_switch_button_tt
	potential = {
        always = yes
	}
	trigger = {
        always = yes
	}
	effect = {
        clr_country_flag = DA_mechanics_trade_and_production_on
        clr_country_flag = DA_mechanics_tax_and_religion_on
        clr_country_flag = DA_mechanics_education_and_government_on
        clr_country_flag = DA_mechanics_infrastructure_on
        clr_country_flag = DA_mechanics_navy_on

        set_country_flag = DA_mechanics_army_on
	}
}
custom_button = {
	name = DA_mechanics_navy_switch_button
	tooltip = DA_mechanics_navy_switch_button_tt
	potential = {
        always = yes
	}
	trigger = {
        always = yes
	}
	effect = {
        clr_country_flag = DA_mechanics_trade_and_production_on
        clr_country_flag = DA_mechanics_tax_and_religion_on
        clr_country_flag = DA_mechanics_education_and_government_on
        clr_country_flag = DA_mechanics_infrastructure_on
        clr_country_flag = DA_mechanics_army_on

        set_country_flag = DA_mechanics_navy_on
	}
}




# upgrades


custom_window = {
    name = DA_mechanics_window_trade_and_production
    potential = {
        has_country_flag = DA_mechanics_trade_and_production_on
    }
}
custom_window = {
    name = DA_mechanics_window_tax_and_religion
    potential = {
        has_country_flag = DA_mechanics_tax_and_religion_on
    }
}
custom_window = {
    name = DA_mechanics_window_education_and_government
    potential = {
        has_country_flag = DA_mechanics_education_and_government_on
    }
}
custom_window = {
    name = DA_mechanics_window_infrastructure
    potential = {
        has_country_flag = DA_mechanics_infrastructure_on
    }
}
custom_window = {
    name = DA_mechanics_window_army
    potential = {
        has_country_flag = DA_mechanics_army_on
    }
}
custom_window = {
    name = DA_mechanics_window_navy
    potential = {
        has_country_flag = DA_mechanics_navy_on
    }
}

custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_1_1
	tooltip = DA_mechanics_trade_and_production_upgrade_1_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.trade_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.trade_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.trade_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.trade_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_local_market
                        has_building = marketplace
                        has_building = trade_depot
                        has_building = stock_exchange
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.trade_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_1_2
	tooltip = DA_mechanics_trade_and_production_upgrade_1_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.trade_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.trade_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.trade_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.trade_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.trade_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.trade_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_local_market
                        has_building = marketplace
                        has_building = trade_depot
                        has_building = stock_exchange
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.trade_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.trade_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_1_3
	tooltip = DA_mechanics_trade_and_production_upgrade_1_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.trade_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.trade_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.trade_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.trade_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.trade_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.trade_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_local_market
                        has_building = marketplace
                        has_building = trade_depot
                        has_building = stock_exchange
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.trade_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.trade_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_1_4
	tooltip = DA_mechanics_trade_and_production_upgrade_1_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.trade_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.trade_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.trade_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.trade_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.trade_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.trade_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_local_market
                        has_building = marketplace
                        has_building = trade_depot
                        has_building = stock_exchange
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.trade_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.trade_4
                    duration = -1
                }
            }
        }
	}
}

# appraiser

custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_2_1
	tooltip = DA_mechanics_trade_and_production_upgrade_2_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_Mechanics_Unlocked_building.appraiser_buildings
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_Mechanics_Unlocks_building.tt
        set_country_flag = DA_Mechanics_Unlocked_building.appraiser_buildings
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_2_2
	tooltip = DA_mechanics_trade_and_production_upgrade_2_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_Mechanics_Unlocked_building.appraiser_buildings
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.appraiser_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.appraiser_2.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.appraiser_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.appraiser_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_arcane_appraiser
                        has_building = DA_arcane_tech_exchange
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.appraiser_2
                    duration = -1
                }
            }
        }
	}
}


# workshop

custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_3_1
	tooltip = DA_mechanics_trade_and_production_upgrade_3_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.workshop_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.workshop_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.workshop_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.workshop_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = workshop
                        has_building = counting_house
                        has_building = DA_steam_workshop
                        has_building = DA_electrical_workshop
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.workshop_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_3_2
	tooltip = DA_mechanics_trade_and_production_upgrade_3_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.workshop_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.workshop_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.workshop_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.workshop_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.workshop_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.workshop_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = workshop
                        has_building = counting_house
                        has_building = DA_steam_workshop
                        has_building = DA_electrical_workshop
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.workshop_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.workshop_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_3_3
	tooltip = DA_mechanics_trade_and_production_upgrade_3_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.workshop_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.workshop_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.workshop_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.workshop_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.workshop_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.workshop_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = workshop
                        has_building = counting_house
                        has_building = DA_steam_workshop
                        has_building = DA_electrical_workshop
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.workshop_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.workshop_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_3_4
	tooltip = DA_mechanics_trade_and_production_upgrade_3_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.workshop_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.workshop_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.workshop_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.workshop_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.workshop_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.workshop_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = workshop
                        has_building = counting_house
                        has_building = DA_steam_workshop
                        has_building = DA_electrical_workshop
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.workshop_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.workshop_4
                    duration = -1
                }
            }
        }
	}
}


# artisan

custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_4_1
	tooltip = DA_mechanics_trade_and_production_upgrade_4_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_Mechanics_Unlocked_building.artisan_buildings
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_Mechanics_Unlocks_building.tt
        set_country_flag = DA_Mechanics_Unlocked_building.artisan_buildings
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_4_2
	tooltip = DA_mechanics_trade_and_production_upgrade_4_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_Mechanics_Unlocked_building.artisan_buildings
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.artisan_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.artisan_2.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.artisan_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.artisan_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_artisan_building_1
                        has_building = DA_artisan_building_2
                        has_building = DA_artisan_building_3
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.artisan_2
                    duration = -1
                }
            }
        }
	}
}


# assembler

custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_5_1
	tooltip = DA_mechanics_trade_and_production_upgrade_5_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_Mechanics_Unlocked_building.assembler_buildings
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_Mechanics_Unlocks_building.tt
        set_country_flag = DA_Mechanics_Unlocked_building.assembler_buildings
	}
}
custom_button = {
	name = DA_mechanics_trade_and_production_upgrade_5_2
	tooltip = DA_mechanics_trade_and_production_upgrade_5_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_Mechanics_Unlocked_building.assembler_buildings
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.assembler_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.assembler_2.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.assembler_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.assembler_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_assembler_building_1
                        has_building = DA_assembler_building_2
                        has_building = DA_assembler_building_3
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.assembler_2
                    duration = -1
                }
            }
        }
	}
}



# tax

custom_button = {
	name = DA_mechanics_tax_and_religion_upgrade_1_1
	tooltip = DA_mechanics_tax_and_religion_upgrade_1_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.tax_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.tax_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.tax_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.tax_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_tax_building_1
                        has_building = DA_tax_building_2
                        has_building = DA_tax_building_3
                        has_building = DA_tax_building_4
                        has_building = DA_tax_building_5
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.tax_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_tax_and_religion_upgrade_1_2
	tooltip = DA_mechanics_tax_and_religion_upgrade_1_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.tax_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.tax_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.tax_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.tax_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.tax_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.tax_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_tax_building_1
                        has_building = DA_tax_building_2
                        has_building = DA_tax_building_3
                        has_building = DA_tax_building_4
                        has_building = DA_tax_building_5
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.tax_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.tax_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_tax_and_religion_upgrade_1_3
	tooltip = DA_mechanics_tax_and_religion_upgrade_1_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.tax_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.tax_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.tax_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.tax_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.tax_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.tax_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_tax_building_1
                        has_building = DA_tax_building_2
                        has_building = DA_tax_building_3
                        has_building = DA_tax_building_4
                        has_building = DA_tax_building_5
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.tax_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.tax_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_tax_and_religion_upgrade_1_4
	tooltip = DA_mechanics_tax_and_religion_upgrade_1_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.tax_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.tax_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.tax_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.tax_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.tax_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.tax_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_tax_building_1
                        has_building = DA_tax_building_2
                        has_building = DA_tax_building_3
                        has_building = DA_tax_building_4
                        has_building = DA_tax_building_5
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.tax_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.tax_4
                    duration = -1
                }
            }
        }
	}
}





# religion

custom_button = {
	name = DA_mechanics_tax_and_religion_upgrade_3_1
	tooltip = DA_mechanics_tax_and_religion_upgrade_3_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.religion_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.religion_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.religion_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.religion_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = temple
                        has_building = cathedral
                        has_building = DA_religious_building_3
                        has_building = DA_religious_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.religion_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_tax_and_religion_upgrade_3_2
	tooltip = DA_mechanics_tax_and_religion_upgrade_3_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.religion_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.religion_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.religion_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.religion_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.religion_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.religion_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = temple
                        has_building = cathedral
                        has_building = DA_religious_building_3
                        has_building = DA_religious_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.religion_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.religion_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_tax_and_religion_upgrade_3_3
	tooltip = DA_mechanics_tax_and_religion_upgrade_3_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.religion_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.religion_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.religion_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.religion_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.religion_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.religion_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = temple
                        has_building = cathedral
                        has_building = DA_religious_building_3
                        has_building = DA_religious_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.religion_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.religion_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_tax_and_religion_upgrade_3_4
	tooltip = DA_mechanics_tax_and_religion_upgrade_3_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.religion_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.religion_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.religion_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.religion_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.religion_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.religion_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = temple
                        has_building = cathedral
                        has_building = DA_religious_building_3
                        has_building = DA_religious_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.religion_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.religion_4
                    duration = -1
                }
            }
        }
	}
}


# education

custom_button = {
	name = DA_mechanics_education_and_government_upgrade_1_1
	tooltip = DA_mechanics_education_and_government_upgrade_1_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.education_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.education_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.education_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.education_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_education_building_1
                        has_building = DA_education_building_2
                        has_building = DA_education_building_3
                        has_building = university
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.education_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_education_and_government_upgrade_1_2
	tooltip = DA_mechanics_education_and_government_upgrade_1_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.education_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.education_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.education_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.education_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.education_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.education_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_education_building_1
                        has_building = DA_education_building_2
                        has_building = DA_education_building_3
                        has_building = university
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.education_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.education_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_education_and_government_upgrade_1_3
	tooltip = DA_mechanics_education_and_government_upgrade_1_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.education_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.education_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.education_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.education_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.education_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.education_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_education_building_1
                        has_building = DA_education_building_2
                        has_building = DA_education_building_3
                        has_building = university
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.education_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.education_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_education_and_government_upgrade_1_4
	tooltip = DA_mechanics_education_and_government_upgrade_1_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.education_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.education_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.education_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.education_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.education_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.education_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_education_building_1
                        has_building = DA_education_building_2
                        has_building = DA_education_building_3
                        has_building = university
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.education_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.education_4
                    duration = -1
                }
            }
        }
	}
}

# innovation event upgrade

custom_button = {
	name = DA_mechanics_education_and_government_upgrade_3_2
	tooltip = DA_mechanics_education_and_government_upgrade_3_2.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.education_2_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.education_2_1.tt
        set_country_flag = DA_mechanics_upgrade.education_2_1.flag
	}
}
custom_button = {
	name = DA_mechanics_education_and_government_upgrade_3_3
	tooltip = DA_mechanics_education_and_government_upgrade_3_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.education_2_1.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.education_2_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.education_2_2.tt
        set_country_flag = DA_mechanics_upgrade.education_2_2.flag
	}
}


# government

custom_button = {
	name = DA_mechanics_education_and_government_upgrade_4_1
	tooltip = DA_mechanics_education_and_government_upgrade_4_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.government_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.government_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.government_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.government_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = courthouse
                        has_building = town_hall
                        has_building = DA_government_building_3
                        has_building = DA_government_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.government_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_education_and_government_upgrade_4_2
	tooltip = DA_mechanics_education_and_government_upgrade_4_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.government_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.government_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.government_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.government_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.government_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.government_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = courthouse
                        has_building = town_hall
                        has_building = DA_government_building_3
                        has_building = DA_government_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.government_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.government_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_education_and_government_upgrade_4_3
	tooltip = DA_mechanics_education_and_government_upgrade_4_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.government_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.government_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.government_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.government_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.government_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.government_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = courthouse
                        has_building = town_hall
                        has_building = DA_government_building_3
                        has_building = DA_government_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.government_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.government_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_education_and_government_upgrade_4_4
	tooltip = DA_mechanics_education_and_government_upgrade_4_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.government_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.government_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.government_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.government_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.government_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.government_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = courthouse
                        has_building = town_hall
                        has_building = DA_government_building_3
                        has_building = DA_government_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.government_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.government_4
                    duration = -1
                }
            }
        }
	}
}





# generators

custom_button = {
	name = DA_mechanics_infrastructure_upgrade_1_1
	tooltip = DA_mechanics_infrastructure_upgrade_1_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.generators_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.generators_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.generators_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.generators_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_PS_1
                        has_building = DA_PS_2
                        has_building = DA_PS_3
                        has_building = DA_PS_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.generators_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_1_2
	tooltip = DA_mechanics_infrastructure_upgrade_1_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.generators_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.generators_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.generators_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.generators_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.generators_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.generators_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_PS_1
                        has_building = DA_PS_2
                        has_building = DA_PS_3
                        has_building = DA_PS_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.generators_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.generators_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_1_3
	tooltip = DA_mechanics_infrastructure_upgrade_1_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.generators_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.generators_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.generators_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.generators_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.generators_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.generators_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_PS_1
                        has_building = DA_PS_2
                        has_building = DA_PS_3
                        has_building = DA_PS_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.generators_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.generators_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_1_4
	tooltip = DA_mechanics_infrastructure_upgrade_1_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.generators_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.generators_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.generators_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.generators_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.generators_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.generators_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_PS_1
                        has_building = DA_PS_2
                        has_building = DA_PS_3
                        has_building = DA_PS_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.generators_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.generators_4
                    duration = -1
                }
            }
        }
	}
}


custom_button = {
	name = DA_mechanics_infrastructure_upgrade_2_2
	tooltip = DA_mechanics_infrastructure_upgrade_2_2.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.cables_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.cables_2.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.cables_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.cables_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_steam_pipes
                        has_building = DA_electricity_cables
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.cables_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_2_3
	tooltip = DA_mechanics_infrastructure_upgrade_2_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.cables_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.cables_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.cables_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.cables_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.cables_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.cables_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_steam_pipes
                        has_building = DA_electricity_cables
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.cables_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.cables_3
                    duration = -1
                }
            }
        }
	}
}


# deposit

custom_button = {
	name = DA_mechanics_infrastructure_upgrade_3_1
	tooltip = DA_mechanics_infrastructure_upgrade_3_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.deposit_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.deposit_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.deposit_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.deposit_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_deposit_building_1
                        has_building = DA_deposit_building_2
                        has_building = DA_deposit_building_3
                        has_building = DA_deposit_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.deposit_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_3_2
	tooltip = DA_mechanics_infrastructure_upgrade_3_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.deposit_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.deposit_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.deposit_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.deposit_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.deposit_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.deposit_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_deposit_building_1
                        has_building = DA_deposit_building_2
                        has_building = DA_deposit_building_3
                        has_building = DA_deposit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.deposit_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.deposit_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_3_3
	tooltip = DA_mechanics_infrastructure_upgrade_3_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.deposit_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.deposit_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.deposit_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.deposit_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.deposit_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.deposit_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_deposit_building_1
                        has_building = DA_deposit_building_2
                        has_building = DA_deposit_building_3
                        has_building = DA_deposit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.deposit_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.deposit_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_3_4
	tooltip = DA_mechanics_infrastructure_upgrade_3_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.deposit_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.deposit_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.deposit_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.deposit_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.deposit_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.deposit_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_deposit_building_1
                        has_building = DA_deposit_building_2
                        has_building = DA_deposit_building_3
                        has_building = DA_deposit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.deposit_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.deposit_4
                    duration = -1
                }
            }
        }
	}
}




# road

custom_button = {
	name = DA_mechanics_infrastructure_upgrade_4_1
	tooltip = DA_mechanics_infrastructure_upgrade_4_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.road_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.road_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.road_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.road_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_road_building_1
                        has_building = DA_road_building_2
                        has_building = DA_road_building_3
                        has_building = DA_road_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.road_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_4_2
	tooltip = DA_mechanics_infrastructure_upgrade_4_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.road_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.road_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.road_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.road_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.road_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.road_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_road_building_1
                        has_building = DA_road_building_2
                        has_building = DA_road_building_3
                        has_building = DA_road_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.road_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.road_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_4_3
	tooltip = DA_mechanics_infrastructure_upgrade_4_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.road_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.road_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.road_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.road_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.road_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.road_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_road_building_1
                        has_building = DA_road_building_2
                        has_building = DA_road_building_3
                        has_building = DA_road_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.road_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.road_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_infrastructure_upgrade_4_4
	tooltip = DA_mechanics_infrastructure_upgrade_4_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.road_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.road_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.road_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.road_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.road_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.road_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_road_building_1
                        has_building = DA_road_building_2
                        has_building = DA_road_building_3
                        has_building = DA_road_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.road_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.road_4
                    duration = -1
                }
            }
        }
	}
}



# manpower

custom_button = {
	name = DA_mechanics_army_upgrade_1_1
	tooltip = DA_mechanics_army_upgrade_1_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.manpower_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.manpower_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.manpower_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.manpower_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = barracks
                        has_building = training_fields
                        has_building = DA_manpower_building_3
                        has_building = DA_manpower_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.manpower_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_1_2
	tooltip = DA_mechanics_army_upgrade_1_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.manpower_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.manpower_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.manpower_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.manpower_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.manpower_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.manpower_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = barracks
                        has_building = training_fields
                        has_building = DA_manpower_building_3
                        has_building = DA_manpower_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.manpower_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.manpower_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_1_3
	tooltip = DA_mechanics_army_upgrade_1_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.manpower_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.manpower_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.manpower_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.manpower_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.manpower_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.manpower_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = barracks
                        has_building = training_fields
                        has_building = DA_manpower_building_3
                        has_building = DA_manpower_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.manpower_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.manpower_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_1_4
	tooltip = DA_mechanics_army_upgrade_1_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.manpower_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.manpower_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.manpower_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.manpower_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.manpower_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.manpower_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = barracks
                        has_building = training_fields
                        has_building = DA_manpower_building_3
                        has_building = DA_manpower_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.manpower_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.manpower_4
                    duration = -1
                }
            }
        }
	}
}



# forcelimit

custom_button = {
	name = DA_mechanics_army_upgrade_3_1
	tooltip = DA_mechanics_army_upgrade_3_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.forcelimit_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.forcelimit_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.forcelimit_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.forcelimit_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = conscription_center
                        has_building = regimental_camp
                        has_building = DA_forcelimit_building_3
                        has_building = DA_forcelimit_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.forcelimit_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_3_2
	tooltip = DA_mechanics_army_upgrade_3_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.forcelimit_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.forcelimit_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.forcelimit_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.forcelimit_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.forcelimit_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.forcelimit_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = conscription_center
                        has_building = regimental_camp
                        has_building = DA_forcelimit_building_3
                        has_building = DA_forcelimit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.forcelimit_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.forcelimit_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_3_3
	tooltip = DA_mechanics_army_upgrade_3_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.forcelimit_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.forcelimit_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.forcelimit_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.forcelimit_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.forcelimit_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.forcelimit_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = conscription_center
                        has_building = regimental_camp
                        has_building = DA_forcelimit_building_3
                        has_building = DA_forcelimit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.forcelimit_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.forcelimit_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_3_4
	tooltip = DA_mechanics_army_upgrade_3_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.forcelimit_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.forcelimit_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.forcelimit_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.forcelimit_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.forcelimit_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.forcelimit_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = conscription_center
                        has_building = regimental_camp
                        has_building = DA_forcelimit_building_3
                        has_building = DA_forcelimit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.forcelimit_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.forcelimit_4
                    duration = -1
                }
            }
        }
	}
}


# warforged

custom_button = {
	name = DA_mechanics_army_upgrade_5_1
	tooltip = DA_mechanics_army_upgrade_5_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.warforged_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.warforged_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.warforged_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.warforged_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_warforged_building_1
                        has_building = DA_warforged_building_2
                        has_building = DA_warforged_building_3
                        has_building = DA_warforged_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.warforged_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_5_2
	tooltip = DA_mechanics_army_upgrade_5_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.warforged_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.warforged_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.warforged_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.warforged_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.warforged_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.warforged_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_warforged_building_1
                        has_building = DA_warforged_building_2
                        has_building = DA_warforged_building_3
                        has_building = DA_warforged_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.warforged_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.warforged_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_5_3
	tooltip = DA_mechanics_army_upgrade_5_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.warforged_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.warforged_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.warforged_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.warforged_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.warforged_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.warforged_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_warforged_building_1
                        has_building = DA_warforged_building_2
                        has_building = DA_warforged_building_3
                        has_building = DA_warforged_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.warforged_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.warforged_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_army_upgrade_5_4
	tooltip = DA_mechanics_army_upgrade_5_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.warforged_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.warforged_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.warforged_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.warforged_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.warforged_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.warforged_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = DA_warforged_building_1
                        has_building = DA_warforged_building_2
                        has_building = DA_warforged_building_3
                        has_building = DA_warforged_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.warforged_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.warforged_4
                    duration = -1
                }
            }
        }
	}
}



# sailors

custom_button = {
	name = DA_mechanics_navy_upgrade_1_1
	tooltip = DA_mechanics_navy_upgrade_1_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.sailors_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.sailors_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.sailors_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.sailors_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = dock
                        has_building = drydock
                        has_building = DA_navy_sailors_building_3
                        has_building = DA_navy_sailors_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.sailors_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_navy_upgrade_1_2
	tooltip = DA_mechanics_navy_upgrade_1_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.sailors_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.sailors_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.sailors_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.sailors_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.sailors_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.sailors_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = dock
                        has_building = drydock
                        has_building = DA_navy_sailors_building_3
                        has_building = DA_navy_sailors_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.sailors_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.sailors_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_navy_upgrade_1_3
	tooltip = DA_mechanics_navy_upgrade_1_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.sailors_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.sailors_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.sailors_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.sailors_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.sailors_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.sailors_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = dock
                        has_building = drydock
                        has_building = DA_navy_sailors_building_3
                        has_building = DA_navy_sailors_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.sailors_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.sailors_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_navy_upgrade_1_4
	tooltip = DA_mechanics_navy_upgrade_1_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.sailors_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.sailors_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.sailors_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.sailors_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.sailors_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.sailors_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = dock
                        has_building = drydock
                        has_building = DA_navy_sailors_building_3
                        has_building = DA_navy_sailors_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.sailors_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.sailors_4
                    duration = -1
                }
            }
        }
	}
}






# navy force limit

custom_button = {
	name = DA_mechanics_navy_upgrade_3_1
	tooltip = DA_mechanics_navy_upgrade_3_1.tt
	potential = {
        always = yes
	}
	trigger = {
        DA_completed.Mechanics_1 = yes
        DA_has_mechanics_inno_points_1 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.navy_forcelimit_1.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_1 = yes
        custom_tooltip = DA_mechanics_upgrade.navy_forcelimit_1.tt
        tooltip = {
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.navy_forcelimit_1
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.navy_forcelimit_1.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = shipyard
                        has_building = grand_shipyard
                        has_building = DA_navy_forcelimit_building_3
                        has_building = DA_navy_forcelimit_building_4
                    }
                }
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.navy_forcelimit_1
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_navy_upgrade_3_2
	tooltip = DA_mechanics_navy_upgrade_3_2.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.navy_forcelimit_1.flag
        }
        DA_completed.Mechanics_2 = yes
        DA_has_mechanics_inno_points_2 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.navy_forcelimit_2.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_2 = yes
        custom_tooltip = DA_mechanics_upgrade.navy_forcelimit_2.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.navy_forcelimit_1
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.navy_forcelimit_2
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.navy_forcelimit_2.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = shipyard
                        has_building = grand_shipyard
                        has_building = DA_navy_forcelimit_building_3
                        has_building = DA_navy_forcelimit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.navy_forcelimit_1
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.navy_forcelimit_2
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_navy_upgrade_3_3
	tooltip = DA_mechanics_navy_upgrade_3_3.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.navy_forcelimit_2.flag
        }
        DA_completed.Mechanics_3 = yes
        DA_has_mechanics_inno_points_3 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.navy_forcelimit_3.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_3 = yes
        custom_tooltip = DA_mechanics_upgrade.navy_forcelimit_3.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.navy_forcelimit_2
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.navy_forcelimit_3
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.navy_forcelimit_3.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = shipyard
                        has_building = grand_shipyard
                        has_building = DA_navy_forcelimit_building_3
                        has_building = DA_navy_forcelimit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.navy_forcelimit_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.navy_forcelimit_3
                    duration = -1
                }
            }
        }
	}
}
custom_button = {
	name = DA_mechanics_navy_upgrade_3_4
	tooltip = DA_mechanics_navy_upgrade_3_4.tt
	potential = {
        always = yes
	}
	trigger = {
        custom_trigger_tooltip = {
            tooltip = DA_completed_previous_mechanics_upgrade_tt
            has_country_flag = DA_mechanics_upgrade.navy_forcelimit_3.flag
        }
        DA_completed.Mechanics_4 = yes
        DA_has_mechanics_inno_points_4 = yes
        custom_trigger_tooltip = {
            tooltip = DA_mechanics_upgrade_already_unlocked_tt
            NOT = {
                has_country_flag = DA_mechanics_upgrade.navy_forcelimit_4.flag
            }
        }
	}
	effect = {
        DA_spend_mechanics_inno_points_4 = yes
        custom_tooltip = DA_mechanics_upgrade.navy_forcelimit_4.tt
        tooltip = {
            remove_province_modifier = DA_mechanics_upgrade.navy_forcelimit_3
            add_permanent_province_modifier = {
                name = DA_mechanics_upgrade.navy_forcelimit_4
                duration = -1
            }
        }
        set_country_flag = DA_mechanics_upgrade.navy_forcelimit_4.flag
        hidden_effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        has_building = shipyard
                        has_building = grand_shipyard
                        has_building = DA_navy_forcelimit_building_3
                        has_building = DA_navy_forcelimit_building_4
                    }
                }
                remove_province_modifier = DA_mechanics_upgrade.navy_forcelimit_2
                add_permanent_province_modifier = {
                    name = DA_mechanics_upgrade.navy_forcelimit_4
                    duration = -1
                }
            }
        }
	}
}

